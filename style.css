/* ============================================================
   NPOJ STYLESHEET - BẢN SỬA LỖI TRIỆT ĐỂ
   ============================================================ */

:root {
    --primary: #3b82f6; --accent: #8b5cf6; --bg: #020617;
    --sidebar: #0f172a; --card: #1e293b; --border: rgba(255,255,255,0.1);
    --term-bg: #000000; --term-text: #4ade80;
}

/* RESET */
* { box-sizing: border-box; }

body { 
    margin: 0; font-family: 'Inter', sans-serif; 
    background: var(--bg); color: #fff; 
    overflow: hidden; height: 100vh; 
}

/* HỆ THỐNG VIEW */
.view { display: none; opacity: 0; transform: translateY(10px); height: 100%; transition: all 0.3s ease; }
.view.active { display: block !important; opacity: 1; transform: translateY(0); }
.hidden { display: none !important; }

/* NÚT BẤM */
button { cursor: pointer; border: none; font-weight: 700; border-radius: 8px; padding: 10px 20px; font-size: 13px; }
.btn-primary { background: var(--primary); color: white; }
.btn-success { background: #10b981; color: white; }
.btn-danger { background: #f43f5e; color: white; }
.btn-outline { background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: #94a3b8; }

/* BỐ CỤC */
.app-layout { display: flex; height: 100vh; }
.sidebar { width: 260px; background: var(--sidebar); padding: 30px; border-right: 1px solid var(--border); display: flex; flex-direction: column; }
.main-body { flex: 1; padding: 25px; overflow-y: auto; }

/* IDE CONTAINER */
.ide-container { display: grid; grid-template-columns: 350px 1fr; gap: 20px; height: calc(100vh - 120px); margin-top: 15px; }
.ide-left { display: flex; flex-direction: column; gap: 20px; overflow-y: auto; }
.ide-right { display: grid; grid-template-rows: 1fr 240px; gap: 20px; overflow: hidden; }

/* --- FIX LỖI Ô TRẮNG & LỆCH DÒNG --- */
.editor-section { 
    position: relative; background: #010409; 
    border-radius: 12px; border: 1px solid #333; 
    overflow: hidden; display: flex; flex-direction: column; 
}
.editor-wrapper { flex: 1; position: relative; background: #010409 !important; }

#code-editor, 
#highlighting-layer, 
#highlighting-layer pre, 
#highlighting-layer code {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    padding: 20px !important; 
    font-family: 'Fira Code', monospace !important; 
    font-size: 14px !important; 
    line-height: 1.6 !important;
    margin: 0 !important;
    tab-size: 4 !important;
    white-space: pre !important; 
    box-sizing: border-box !important;
}

#code-editor { 
    color: transparent !important; 
    background: transparent !important; 
    caret-color: white; 
    z-index: 2; 
    resize: none; 
    border: none !important;
    outline: none !important;
    overflow: auto;
}

#highlighting-layer { z-index: 1; pointer-events: none; overflow: hidden; }

/* Ghi đè bắt buộc để xóa ô trắng của Prism */
#highlighting-layer pre[class*="language-"] {
    background: transparent !important;
    box-shadow: none !important;
    padding: 0 !important;
    overflow: hidden !important;
}

#highlighting-layer code[class*="language-"] {
    background: transparent !important;
    padding: 0 !important;
}

/* TERMINAL */
.pane-header { background: #1e293b; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; font-size: 11px; font-weight: bold; }
.terminal-body { background: var(--term-bg); color: var(--term-text); padding: 15px; font-family: 'Consolas', monospace; flex: 1; overflow-y: auto; white-space: pre-wrap; }

/* CARDS & ADMIN */
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
.card { background: var(--card); border: 1px solid var(--border); padding: 25px; border-radius: 16px; }
.input-modern { width: 100%; padding: 12px; background: #0f172a; border: 1px solid #334155; border-radius: 8px; color: white; margin-bottom: 10px; }
.testcase-row { display: grid; grid-template-columns: 1fr 1fr 100px; gap: 10px; background: rgba(0,0,0,0.2); padding: 15px; border-radius: 10px; margin-bottom: 10px; }

/* SCROLLBAR */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }